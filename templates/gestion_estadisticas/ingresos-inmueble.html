{% extends 'base.html' %}

{% load static %}

{% block content %}
<link rel="stylesheet" href="{% static 'styles/ingresos-inmueble.css' %}">
  <h1>Ingresos por Inmueble</h1>

  <form method="get" style="margin-bottom: 20px;">
    <input type="text" name="q" placeholder="Buscar inmueble..." value="{{ query }}" />
    <button type="submit">Buscar</button>
  </form>

  {% if ingresos %}
    <table style="width: 100%; border-collapse: collapse;">
      <thead>
        <tr>
          <th style="text-align: left; padding: 8px;">Inmueble</th>
          <th style="text-align: left; padding: 8px;">Ingresos Totales</th>
        </tr>
      </thead>
      <tbody>
        {% for item in ingresos %}
          <tr>
            <td style="padding: 8px;">{{ item.inmueble__nombre }}</td>
            <td style="padding: 8px;">${{ item.monto_total }}</td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  {% else %}
    <p>No se encontraron inmuebles con ingresos.</p>
  {% endif %}
{% endblock %}